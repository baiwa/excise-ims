<form (submit)="onSubmit($event)" ngNativeValidate>
  <div class="ui top centered attached header segment" style="background: #1e83db;color: white">
    <span>บันทึกผลการวิเคราะการชำระภาษีสรรพสามิต</span>
  </div>

  <div class="ui attached segment">
    <div class="ui grid center aligned">
      <div class="ui center aligned centered fourteen wide column">
        <div class="ui form center aligned">

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="four wide field">
              <label>ทะเบียนสรรพสามิตเลขที่ :</label>
            </div>
            <div class="nine wide field">
              <input type="text" name="exciseId" (keyup)="onKeyUp($event, 'exciseId')" [(ngModel)]="obj.exciseId" required>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="one wide field">
              <label>
                ราย :
              </label>
            </div>
            <div class="five wide field">
              <input type="text" name="item" (keyup)="onKeyUp($event, 'item')" [(ngModel)]="obj.item" required>
            </div>
            <div class="three wide field">
              <label>
                ประเภทกิจการ :
              </label>
            </div>
            <div class="four  wide field">
              <input type="text" name="workType" (keyup)="onKeyUp($event, 'workType')" [(ngModel)]="obj.workType" required>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="one wide field">
              <label>ที่อยู่ :</label>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="thirteen wide field">
              <textarea name="address" (keyup)="onKeyUp($event, 'address')" [(ngModel)]="obj.address" rows="2" style="resize: none" maxLength="200" required></textarea>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="five wide field">
              <label>
                ขอบระยะเวลาที่ทำการวิเคราะห์ตั้งแต่ :
              </label>
            </div>
            <div class="three wide field">
              <input type="text" name="from" (keyup)="onKeyUp($event, 'from')" [(ngModel)]="obj.from" required>
            </div>
            <div class="one wide field">
              <label>
                ถึง :
              </label>
            </div>
            <div class="four  wide field">
              <input type="text" name="to" (keyup)="onKeyUp($event, 'to')" [(ngModel)]="obj.to" required>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="fourteen wide field">
              <label class="custom-label-w-22">ข้อมูลที่ใช้ในการวิเคราะห์</label>
            </div>
          </div>

          <div class="inline fields" *ngFor="let num of numbers; let i = index" [attr.data-index]="i">
            <div class="two wide field"></div>
            <div class="fourteen wide field">
              <label class="custom-label-w-18">
                {{i+1}}.
              </label>
              <input type="text" name="analys{{i+1}}" (keyup)="onKeyUp($event, 'analys' + (i+1))" [(ngModel)]="obj['analys' + (i+1)]" required> &nbsp;&nbsp;
              <a disabled *ngIf="i<=2" style="width:16%;box-shadow: none; cursor: default; color: transparent !important; box-shadow: 0 0 0 1px transparent inset!important;">
                <i class="times icon"></i> ลบ
              </a>
              <a *ngIf="i>2" class="red" (click)="onDelField(i)" style="width:16%;box-shadow: none; color: red !important; box-shadow: 0 0 0 1px transparent inset!important;cursor:pointer">
                <i class="times icon"></i> ลบ
              </a>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="fourteen wide field">
              <i class="plus icon"></i>
              <a style="cursor: pointer" class="{{ numbers.length == 5 && 'disabled'}} red" (click)="onAddField()">
                เพิ่ม
              </a>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="one wide field">
              <label>เรียน:</label>
            </div>
            <div class="five wide field">
              <input type="text" name="sendTo" (keyup)="onKeyUp($event, 'sendTo')" [(ngModel)]="obj.sendTo" required>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="nine wide field">
              <label>
                ตามที่ได้ทำการวิเคราะห์ข้อมูลรายดังกล่าวข้างต้นแล้วปรากฏว่า
              </label>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="thirteen wide field">
              <textarea rows="2" style="resize: none;" maxLength="200" name="reasonTxt" (keyup)="onKeyUp($event, 'reasonTxt')" [(ngModel)]="obj.reasonTxt" required></textarea>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="five wide field">
              <label>จึงเห็นสมควร</label>
              <div class="ui checkbox">
                <input type="radio" name="agreeBox" [(ngModel)]="obj.agreeBox" value="accept">
                <label>ขออนุมัติหนังสือเรียก</label>
              </div>
            </div>
            <div class="one wide field">
              <div class="ui checkbox">
                <input type="radio" name="agreeBox" [(ngModel)]="obj.agreeBox" value="other">
                <label>อื่นๆ&nbsp;:&nbsp;&nbsp;</label>
              </div>
            </div>
            <div class="seven wide field">
              &nbsp;&nbsp;
              <div class="ui {{ obj.agreeBox !== 'other' && 'disabled' }} input">
                <input type="text" (keyup)="onKeyUp($event, 'otherTxt')" [(ngModel)]="obj.otherTxt" name="otherTxt" id="otherTxt">
              </div>
            </div>
          </div>

          <div class="inline fields">
            <div class="two wide field"></div>
            <div class="two wide field">
              <label>
                ผู้วิเคราะห์:
              </label>
            </div>
            <div class="four wide field">
              <input type="text" name="analysName" (keyup)="onKeyUp($event, 'analysName')" [(ngModel)]="obj.analysName" required>
            </div>
            <div class="three wide field">
              <label>
                ผู้ควบคุมการวิเคราะห์:
              </label>
            </div>
            <div class="four wide field">
              <input type="text" name="analysControl" (keyup)="onKeyUp($event, 'analysControl')" [(ngModel)]="obj.analysControl" required>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>


  <div class="ui bottom centered attached segment">
    <div class="ui center aligned grid">
      <div class="eight wide column">
        <button class="ui mini green button" type="submit">
          <i class="save icon"></i>
          พิมพ์เอกสาร
        </button>
        <button class="ui mini red button" type="button" (click)="onDiscard()">
          <i class="times icon"></i>
          ยกเลิก
        </button>
      </div>
    </div>
  </div>
</form>